<!DOCTYPE html>
<html>

<head>

   <title>Test Page</title>
   <!-- Bootstrap -->
   <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
  
	<title>Youtube Api Test</title>
	<script src="https://code.jquery.com/jquery.js"></script>

</head>

<body>
    <div class="container">
        <header></header>
        <!-- This form will be where users input data about the movies -->
        <form id="movie-form">
            <label for="movie-input">Search for a recipe or ingredient</label>
            <input type="text" id="ingredient-input">
            <br>
            <!-- This button will trigger our AJAX call -->
            <input id="find-recipe" type="submit" value="Recipe Search">
        </form>
        <div id="recipe-view"></div>
    </div>
    <script src="https://code.jquery.com/jquery-2.1.3.min.js"></script>
    <script type="text/javascript">
    function displayRecipe() {


        var apiKey = "c5f6c9518c5a1d52b477a875b36b4f47";
        // var searchItem = recipeSearch;

        var ingredient = $('#ingredient-input').val().trim();

        var queryURL = "https://food2fork.com/api/search?key=" + apiKey + "&q=" + ingredient + "&count=6"; //search term
        //search term
        //   https://food2fork.com/api/search?key=c5f6c9518c5a1d52b477a875b36b4f47&q=bacon,chicken,apple

        $.ajax({
            headers: {
                "Access-Control-Allow-Origin": "*"
            },
            url: queryURL,
            method: "GET",
            crossDomain: true,
        }).done(function(response) {
            // parsing response to create JSON object
            // && creating variable for object
            var responseJSON = JSON.parse(response);
            console.log(responseJSON);

            for (var i = 0; i < 6; i++) {

                // console.log(responseJSON.recipes[1].title);
                // Declaring variable for title of recipe
                var title = responseJSON.recipes[i].title;

                // Hyperlink to site
                var imageHref = responseJSON.recipes[i].source_url;

                // Recipe Title Test
                console.log("Recipe Title: " + title);           
             	console.log("Recipe link: " +imageHref);



            }


//<<<<<<< nico

            // Declaring varible for image url
            // var imageUrl = responseJSON.recipes[0].image_url;
            // console.log(responseJSON.recipes[0].image_url);


            // Append title
            // $("#recipe-view").append("<h4>" + title + "</h4>");

            //Append Link with Image
            // $("#recipe-view").append("<a href =" + imageHref + ">" + "<img src=" + imageUrl + ">" + "</a>");

    $("#find-recipe").on("click", function(event) {
        event.preventDefault();
        // This line grabs the input from the textbox
        var ingredient = $("#ingredient-input").val().trim();

        displayRecipe();


    });






    // $(document).on("click", ".movie", displayRecipe);
    </script>
//Beginning of Vince=======
<script src="https://code.jquery.com/jquery.js"></script>

	<input type="text" id="searchTerm">
	<input type="submit" id="submitButton">

	<div id="attachVideos"></div>

	<script>

	$('#submitButton').on("click", function(){
	
		var userSearch = $('#searchTerm').val();
		// console.log(userSearch);

		var key = "AIzaSyD3EEt-S9l6v2SWmsHC8mXGPcvG_Xtb6FY";
		var queryURL = "https://www.googleapis.com/youtube/v3/search?key=" + key;
		
		var parameters = $.param({
			maxResults: 6,
			part: "snippet",
			q: userSearch
		});

		$.ajax({
			method: "GET",
			url: "https://www.googleapis.com/youtube/v3/search?" + parameters + "&key=" + key,
			//this url below is the one
			//https://www.googleapis.com/youtube/v3/search?part=snippet&key=AIzaSyD3EEt-S9l6v2SWmsHC8mXGPcvG_Xtb6FY&q=keyboart+cat
			
		}).done(function(response){

			for(var i = 0; i < response.items.length; i++){
				// console.log(response.items[i].id.videoId);
				var currentVideoId = response.items[i].id.videoId;
				console.log(currentVideoId);

				var embedURL = "https://www.youtube.com/embed/";

				var videoTitle = response.items[i].snippet.title;

				var titlHeading = $('<h3>' + videoTitle + '</h3>');

				var iframe = $('<iframe id="player" type="text/html" width="320" height="195" src="' + embedURL + currentVideoId + '" frameborder="0"></iframe>');

				$('#attachVideos').append(titlHeading);
				$('#attachVideos').append(iframe);
			}

			
		})

	});







	</script>

//end of vince
</body>

</html>
